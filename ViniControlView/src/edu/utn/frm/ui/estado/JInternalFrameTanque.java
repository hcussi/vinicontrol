package edu.utn.frm.ui.estado;

import edu.utn.frm.entities.proceso.Proceso;
import edu.utn.frm.entities.regla.ReglaControlNivel;
import edu.utn.frm.entities.regla.ReglaControlTemperatura;
import edu.utn.frm.entities.tanque.EstadoTanque;
import edu.utn.frm.ui.IconManager;
import edu.utn.frm.ui.utils.Utiles;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.Timer;
import org.jfree.chart.ChartPanel;

public class JInternalFrameTanque extends javax.swing.JInternalFrame {

    private Proceso proceso;
    private GestorEstadoTanqueView getv = new GestorEstadoTanqueView();

    /** Creates new form JInternalFrameMio */
    public JInternalFrameTanque(Proceso proceso) {
        this.proceso = proceso;
        initComponents();
        actualizar(this.proceso);
        armarTitle();
        this.setFrameIcon(IconManager.getInstance().getFrameIcon());
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        datosDialogTemperatura = new javax.swing.JDialog();
        datosPanel2 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        codigoTemperaturaText = new javax.swing.JTextField();
        temperaturaMinimaText = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        descripcionTemperaturaText = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        temperaturaMaximaText = new javax.swing.JTextField();
        temperaturaToleranciaText = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        cerrarTemperaturaButton = new javax.swing.JButton();
        datosDialogNivel = new javax.swing.JDialog();
        datosPanel5 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        codigoNivelText = new javax.swing.JTextField();
        nivelMinimoAzucarText = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        descripcionNivelText = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        nivelMaximoLitrosText = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        cerrarNivelButton = new javax.swing.JButton();
        lblTemperatura = new javax.swing.JLabel();
        valorTemperaturaJLabel = new javax.swing.JLabel();
        mostrarProporcionButton = new javax.swing.JButton();
        azucarPanel = getAzucarPanel();
        temperaturaPanel = getTemperaturaPanel();
        volumenPanel = getVolumenPanel();
        lblVolumen = new javax.swing.JLabel();
        valorVolumenJLabel = new javax.swing.JLabel();
        mostrarEvolucionVolumenButton = new javax.swing.JButton();
        lblAzucar = new javax.swing.JLabel();
        valorAzucarJLabel = new javax.swing.JLabel();
        mostrarEvolucionTemperaturaButton = new javax.swing.JButton();
        mostrarEvolucionAzucarButton = new javax.swing.JButton();
        mostrarReglaTemperaturaButton = new javax.swing.JButton();
        mostrarReglaNivelButton = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        lblTemperatura1 = new javax.swing.JLabel();
        lblTemperatura2 = new javax.swing.JLabel();
        lblFechaInicio = new javax.swing.JLabel();
        lblTemperatura4 = new javax.swing.JLabel();
        lblFechaFin = new javax.swing.JLabel();
        lblDescripcion = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        alarmaLabel = new javax.swing.JLabel();
        lblTemperatura5 = new javax.swing.JLabel();
        comandoLabel = new javax.swing.JLabel();

        datosDialogTemperatura.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        datosDialogTemperatura.setTitle("Regla  de Control de Temperatura");
        datosDialogTemperatura.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        datosDialogTemperatura.setLocationByPlatform(true);
        datosDialogTemperatura.setMinimumSize(new java.awt.Dimension(432, 250));
        datosDialogTemperatura.setModal(true);
        datosDialogTemperatura.setResizable(false);
        datosDialogTemperatura.addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosed(java.awt.event.WindowEvent evt) {
                datosDialogTemperatura_windowClosed(evt);
            }
        });

        datosPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder("Datos Regla de Control de Temperatura"));

        jLabel3.setFont(jLabel3.getFont().deriveFont(jLabel3.getFont().getStyle() & ~java.awt.Font.BOLD));
        jLabel3.setText("Código:");

        codigoTemperaturaText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        codigoTemperaturaText.setEnabled(false);

        temperaturaMinimaText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        temperaturaMinimaText.setEnabled(false);

        jLabel6.setText("Temperatura Mínima:");

        jLabel8.setText("Descripción:");

        descripcionTemperaturaText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        descripcionTemperaturaText.setEnabled(false);

        jLabel4.setFont(jLabel4.getFont().deriveFont(jLabel4.getFont().getStyle() & ~java.awt.Font.BOLD));
        jLabel4.setText("Temperatura Tolerancia:");

        jLabel9.setFont(jLabel9.getFont().deriveFont(jLabel9.getFont().getStyle() & ~java.awt.Font.BOLD));
        jLabel9.setText("Temperatura Máxima:");

        temperaturaMaximaText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        temperaturaMaximaText.setEnabled(false);

        temperaturaToleranciaText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        temperaturaToleranciaText.setEnabled(false);

        jLabel10.setText("Grados");

        jLabel11.setText("Grados");

        jLabel12.setText("Grados");

        javax.swing.GroupLayout datosPanel2Layout = new javax.swing.GroupLayout(datosPanel2);
        datosPanel2.setLayout(datosPanel2Layout);
        datosPanel2Layout.setHorizontalGroup(
                datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel2Layout.createSequentialGroup().addContainerGap().addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addComponent(jLabel9).addComponent(jLabel3).addComponent(jLabel6).addComponent(jLabel4).addComponent(jLabel8)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel2Layout.createSequentialGroup().addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false).addComponent(temperaturaMaximaText).addComponent(codigoTemperaturaText, javax.swing.GroupLayout.DEFAULT_SIZE, 132, Short.MAX_VALUE).addComponent(temperaturaMinimaText)).addComponent(temperaturaToleranciaText, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 132, Short.MAX_VALUE)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(jLabel11).addComponent(jLabel12).addComponent(jLabel10)).addGap(152, 152, 152)).addGroup(datosPanel2Layout.createSequentialGroup().addComponent(descripcionTemperaturaText, javax.swing.GroupLayout.PREFERRED_SIZE, 260, javax.swing.GroupLayout.PREFERRED_SIZE).addContainerGap()))));
        datosPanel2Layout.setVerticalGroup(
                datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel2Layout.createSequentialGroup().addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(codigoTemperaturaText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel3)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(descripcionTemperaturaText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel8)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(jLabel9).addComponent(temperaturaMaximaText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)).addComponent(jLabel11)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(temperaturaMinimaText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel6)).addComponent(jLabel10)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(jLabel4).addComponent(jLabel12).addComponent(temperaturaToleranciaText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE))));

        cerrarTemperaturaButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/cerrar.png"))); // NOI18N
        cerrarTemperaturaButton.setText("Cerrar");
        cerrarTemperaturaButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cerrarTemperaturaButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout datosDialogTemperaturaLayout = new javax.swing.GroupLayout(datosDialogTemperatura.getContentPane());
        datosDialogTemperatura.getContentPane().setLayout(datosDialogTemperaturaLayout);
        datosDialogTemperaturaLayout.setHorizontalGroup(
                datosDialogTemperaturaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosDialogTemperaturaLayout.createSequentialGroup().addContainerGap().addComponent(datosPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, 412, javax.swing.GroupLayout.PREFERRED_SIZE).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)).addGroup(javax.swing.GroupLayout.Alignment.TRAILING, datosDialogTemperaturaLayout.createSequentialGroup().addContainerGap(332, Short.MAX_VALUE).addComponent(cerrarTemperaturaButton, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE).addContainerGap()));
        datosDialogTemperaturaLayout.setVerticalGroup(
                datosDialogTemperaturaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosDialogTemperaturaLayout.createSequentialGroup().addContainerGap().addComponent(datosPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(cerrarTemperaturaButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        datosDialogNivel.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        datosDialogNivel.setTitle("Regla  de Control de Nivel");
        datosDialogNivel.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        datosDialogNivel.setLocationByPlatform(true);
        datosDialogNivel.setMinimumSize(new java.awt.Dimension(460, 225));
        datosDialogNivel.setModal(true);
        datosDialogNivel.setResizable(false);
        datosDialogNivel.addWindowListener(new java.awt.event.WindowAdapter() {

            public void windowClosed(java.awt.event.WindowEvent evt) {
                datosDialogNivel_windowClosed(evt);
            }
        });

        datosPanel5.setBorder(javax.swing.BorderFactory.createTitledBorder("Datos Regla de Control de Nivel"));

        jLabel15.setFont(jLabel15.getFont().deriveFont(jLabel15.getFont().getStyle() & ~java.awt.Font.BOLD));
        jLabel15.setText("Código:");

        codigoNivelText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        codigoNivelText.setEnabled(false);

        nivelMinimoAzucarText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        nivelMinimoAzucarText.setEnabled(false);

        jLabel16.setText("Nivel Mínimo:");

        jLabel17.setText("Descripción:");

        descripcionNivelText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        descripcionNivelText.setEnabled(false);

        jLabel18.setFont(jLabel18.getFont().deriveFont(jLabel18.getFont().getStyle() & ~java.awt.Font.BOLD));
        jLabel18.setText("Nivel Máximo:");

        nivelMaximoLitrosText.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        nivelMaximoLitrosText.setEnabled(false);

        jLabel19.setText("Azúcar");

        jLabel20.setText("Litros");

        javax.swing.GroupLayout datosPanel5Layout = new javax.swing.GroupLayout(datosPanel5);
        datosPanel5.setLayout(datosPanel5Layout);
        datosPanel5Layout.setHorizontalGroup(
                datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel5Layout.createSequentialGroup().addGap(26, 26, 26).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addComponent(jLabel18).addComponent(jLabel15).addComponent(jLabel16).addComponent(jLabel17)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel5Layout.createSequentialGroup().addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false).addComponent(nivelMaximoLitrosText).addComponent(codigoNivelText, javax.swing.GroupLayout.DEFAULT_SIZE, 132, Short.MAX_VALUE).addComponent(nivelMinimoAzucarText)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(jLabel19).addComponent(jLabel20))).addComponent(descripcionNivelText, javax.swing.GroupLayout.PREFERRED_SIZE, 257, javax.swing.GroupLayout.PREFERRED_SIZE)).addContainerGap(65, Short.MAX_VALUE)));
        datosPanel5Layout.setVerticalGroup(
                datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosPanel5Layout.createSequentialGroup().addContainerGap().addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(codigoNivelText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel15)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(descripcionNivelText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel17)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(jLabel18).addComponent(nivelMaximoLitrosText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel20)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addGroup(datosPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(nivelMinimoAzucarText, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel16)).addComponent(jLabel19)).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        cerrarNivelButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/cerrar.png"))); // NOI18N
        cerrarNivelButton.setText("Cerrar");
        cerrarNivelButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cerrarNivelButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout datosDialogNivelLayout = new javax.swing.GroupLayout(datosDialogNivel.getContentPane());
        datosDialogNivel.getContentPane().setLayout(datosDialogNivelLayout);
        datosDialogNivelLayout.setHorizontalGroup(
                datosDialogNivelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosDialogNivelLayout.createSequentialGroup().addContainerGap().addGroup(datosDialogNivelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING).addComponent(cerrarNivelButton, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(datosPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)).addContainerGap(16, Short.MAX_VALUE)));
        datosDialogNivelLayout.setVerticalGroup(
                datosDialogNivelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(datosDialogNivelLayout.createSequentialGroup().addContainerGap().addComponent(datosPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(cerrarNivelButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE).addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

        setMaximumSize(new java.awt.Dimension(625, 350));
        setMinimumSize(new java.awt.Dimension(625, 350));
        setPreferredSize(new java.awt.Dimension(625, 350));

        lblTemperatura.setText("Temperatura:");

        valorTemperaturaJLabel.setText("0 ºC");

        mostrarProporcionButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarProporcionButton.setText("Mostrar Proporción");
        mostrarProporcionButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarProporcionButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarProporcionButton(evt);
            }
        });

        azucarPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        azucarPanel.setMaximumSize(new java.awt.Dimension(195, 140));
        azucarPanel.setPreferredSize(new java.awt.Dimension(195, 140));

        javax.swing.GroupLayout azucarPanelLayout = new javax.swing.GroupLayout(azucarPanel);
        azucarPanel.setLayout(azucarPanelLayout);
        azucarPanelLayout.setHorizontalGroup(
                azucarPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 191, Short.MAX_VALUE));
        azucarPanelLayout.setVerticalGroup(
                azucarPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 137, Short.MAX_VALUE));

        temperaturaPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        temperaturaPanel.setMaximumSize(new java.awt.Dimension(195, 140));
        temperaturaPanel.setPreferredSize(new java.awt.Dimension(195, 140));

        javax.swing.GroupLayout temperaturaPanelLayout = new javax.swing.GroupLayout(temperaturaPanel);
        temperaturaPanel.setLayout(temperaturaPanelLayout);
        temperaturaPanelLayout.setHorizontalGroup(
                temperaturaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 191, Short.MAX_VALUE));
        temperaturaPanelLayout.setVerticalGroup(
                temperaturaPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 135, Short.MAX_VALUE));

        volumenPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        volumenPanel.setMaximumSize(new java.awt.Dimension(195, 140));
        volumenPanel.setPreferredSize(new java.awt.Dimension(195, 140));

        javax.swing.GroupLayout volumenPanelLayout = new javax.swing.GroupLayout(volumenPanel);
        volumenPanel.setLayout(volumenPanelLayout);
        volumenPanelLayout.setHorizontalGroup(
                volumenPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 191, Short.MAX_VALUE));
        volumenPanelLayout.setVerticalGroup(
                volumenPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGap(0, 135, Short.MAX_VALUE));

        lblVolumen.setText("Volumen:");

        valorVolumenJLabel.setText("0 L");

        mostrarEvolucionVolumenButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarEvolucionVolumenButton.setText("Mostrar Evolución Volumen");
        mostrarEvolucionVolumenButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarEvolucionVolumenButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarEvolucionVolumen(evt);
            }
        });

        lblAzucar.setText("Azucar:");

        valorAzucarJLabel.setText("0 %");

        mostrarEvolucionTemperaturaButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarEvolucionTemperaturaButton.setText("Mostrar Evolución Temperatura");
        mostrarEvolucionTemperaturaButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarEvolucionTemperaturaButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarEvolucionTemperatura(evt);
            }
        });

        mostrarEvolucionAzucarButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarEvolucionAzucarButton.setText("Mostrar Evolución Azúcar");
        mostrarEvolucionAzucarButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarEvolucionAzucarButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarEvolucionAzucar(evt);
            }
        });

        mostrarReglaTemperaturaButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarReglaTemperaturaButton.setText("Mostrar Regla Control Temperatura");
        mostrarReglaTemperaturaButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarReglaTemperaturaButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarReglaTemperatura(evt);
            }
        });

        mostrarReglaNivelButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/informe.png"))); // NOI18N
        mostrarReglaNivelButton.setText("Mostrar Regla Control de Nivel");
        mostrarReglaNivelButton.setBorder(javax.swing.BorderFactory.createEmptyBorder(1, 1, 1, 1));
        mostrarReglaNivelButton.addActionListener(new java.awt.event.ActionListener() {

            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mostrarReglaNivelButton(evt);
            }
        });

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder("Datos Proceso"));

        lblTemperatura1.setText("Descripción:");

        lblTemperatura2.setText("Fecha Inicio:");

        lblFechaInicio.setText("Fecha Inicio");

        lblTemperatura4.setText("Fecha Fin:");

        lblFechaFin.setText("Fecha Fin");

        lblDescripcion.setText("Descripción");

        jLabel1.setText("Alarma");

        alarmaLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/alarma-desactivada.png"))); // NOI18N

        lblTemperatura5.setIcon(new javax.swing.ImageIcon(getClass().getResource("/edu/utn/frm/ui/resources/image/administrar.png"))); // NOI18N
        lblTemperatura5.setText("       ");

        comandoLabel.setText("Ejecutando Comando: ");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addComponent(lblTemperatura1).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(lblDescripcion, javax.swing.GroupLayout.PREFERRED_SIZE, 459, javax.swing.GroupLayout.PREFERRED_SIZE)).addGroup(jPanel1Layout.createSequentialGroup().addComponent(lblTemperatura2).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(lblFechaInicio, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(lblTemperatura4).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(lblFechaFin, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE)).addGroup(jPanel1Layout.createSequentialGroup().addComponent(lblTemperatura5, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(comandoLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 420, javax.swing.GroupLayout.PREFERRED_SIZE))).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(alarmaLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(jLabel1)).addGap(35, 35, 35)));
        jPanel1Layout.setVerticalGroup(
                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(jPanel1Layout.createSequentialGroup().addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(lblTemperatura1).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(lblDescripcion).addComponent(jLabel1))).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(alarmaLabel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE).addGroup(jPanel1Layout.createSequentialGroup().addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(lblTemperatura2).addComponent(lblFechaInicio).addComponent(lblTemperatura4).addComponent(lblFechaFin)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(lblTemperatura5).addComponent(comandoLabel)))).addContainerGap()));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 609, javax.swing.GroupLayout.PREFERRED_SIZE).addGroup(layout.createSequentialGroup().addContainerGap().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(temperaturaPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE).addGroup(layout.createSequentialGroup().addComponent(lblTemperatura).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(valorTemperaturaJLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)).addComponent(mostrarEvolucionTemperaturaButton, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(mostrarReglaTemperaturaButton)).addGap(6, 6, 6).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false).addComponent(mostrarReglaNivelButton, javax.swing.GroupLayout.DEFAULT_SIZE, 195, Short.MAX_VALUE).addComponent(volumenPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE).addGroup(layout.createSequentialGroup().addComponent(lblVolumen).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(valorVolumenJLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)).addComponent(mostrarEvolucionVolumenButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(mostrarProporcionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 191, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(mostrarEvolucionAzucarButton, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE).addGroup(layout.createSequentialGroup().addComponent(lblAzucar).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED).addComponent(valorAzucarJLabel)).addComponent(azucarPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(lblVolumen).addComponent(valorVolumenJLabel).addComponent(lblAzucar).addComponent(valorAzucarJLabel).addComponent(lblTemperatura).addComponent(valorTemperaturaJLabel)).addGap(6, 6, 6).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(volumenPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(temperaturaPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(mostrarEvolucionVolumenButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(mostrarEvolucionAzucarButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(mostrarReglaNivelButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE).addComponent(mostrarProporcionButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))).addGroup(layout.createSequentialGroup().addComponent(mostrarEvolucionTemperaturaButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE).addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED).addComponent(mostrarReglaTemperaturaButton, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)))).addComponent(azucarPanel, javax.swing.GroupLayout.PREFERRED_SIZE, 141, javax.swing.GroupLayout.PREFERRED_SIZE)).addContainerGap()));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void mostrarProporcionButton(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarProporcionButton
        mostrarProporcion();
    }//GEN-LAST:event_mostrarProporcionButton

    private void mostrarEvolucionVolumen(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarEvolucionVolumen
        mostrarEvolucionVolumen();
    }//GEN-LAST:event_mostrarEvolucionVolumen

    private void mostrarEvolucionTemperatura(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarEvolucionTemperatura
        mostrarEvolucionTemperatura();
    }//GEN-LAST:event_mostrarEvolucionTemperatura

    private void mostrarEvolucionAzucar(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarEvolucionAzucar
        mostrarEvolucionAzucar();
    }//GEN-LAST:event_mostrarEvolucionAzucar

    private void mostrarReglaTemperatura(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarReglaTemperatura
        mostrarReglaTemperatura();
    }//GEN-LAST:event_mostrarReglaTemperatura

    private void mostrarReglaNivelButton(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mostrarReglaNivelButton
        mostrarReglaNivel();
    }//GEN-LAST:event_mostrarReglaNivelButton

    private void cerrarTemperaturaButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cerrarTemperaturaButtonActionPerformed
        cerrarTemperatura();
    }//GEN-LAST:event_cerrarTemperaturaButtonActionPerformed

    private void datosDialogTemperatura_windowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_datosDialogTemperatura_windowClosed
        cerrarTemperatura();
    }//GEN-LAST:event_datosDialogTemperatura_windowClosed

    private void cerrarNivelButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cerrarNivelButtonActionPerformed
        cerrarNivel();
    }//GEN-LAST:event_cerrarNivelButtonActionPerformed

    private void datosDialogNivel_windowClosed(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_datosDialogNivel_windowClosed
        cerrarNivel();
    }//GEN-LAST:event_datosDialogNivel_windowClosed
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel alarmaLabel;
    private javax.swing.JPanel azucarPanel;
    private javax.swing.JButton cerrarNivelButton;
    private javax.swing.JButton cerrarTemperaturaButton;
    private javax.swing.JTextField codigoNivelText;
    private javax.swing.JTextField codigoTemperaturaText;
    private javax.swing.JLabel comandoLabel;
    private javax.swing.JDialog datosDialogNivel;
    private javax.swing.JDialog datosDialogTemperatura;
    private javax.swing.JPanel datosPanel2;
    private javax.swing.JPanel datosPanel5;
    private javax.swing.JTextField descripcionNivelText;
    private javax.swing.JTextField descripcionTemperaturaText;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JLabel lblAzucar;
    private javax.swing.JLabel lblDescripcion;
    private javax.swing.JLabel lblFechaFin;
    private javax.swing.JLabel lblFechaInicio;
    private javax.swing.JLabel lblTemperatura;
    private javax.swing.JLabel lblTemperatura1;
    private javax.swing.JLabel lblTemperatura2;
    private javax.swing.JLabel lblTemperatura4;
    private javax.swing.JLabel lblTemperatura5;
    private javax.swing.JLabel lblVolumen;
    private javax.swing.JButton mostrarEvolucionAzucarButton;
    private javax.swing.JButton mostrarEvolucionTemperaturaButton;
    private javax.swing.JButton mostrarEvolucionVolumenButton;
    private javax.swing.JButton mostrarProporcionButton;
    private javax.swing.JButton mostrarReglaNivelButton;
    private javax.swing.JButton mostrarReglaTemperaturaButton;
    private javax.swing.JTextField nivelMaximoLitrosText;
    private javax.swing.JTextField nivelMinimoAzucarText;
    private javax.swing.JTextField temperaturaMaximaText;
    private javax.swing.JTextField temperaturaMinimaText;
    private javax.swing.JPanel temperaturaPanel;
    private javax.swing.JTextField temperaturaToleranciaText;
    private javax.swing.JLabel valorAzucarJLabel;
    private javax.swing.JLabel valorTemperaturaJLabel;
    private javax.swing.JLabel valorVolumenJLabel;
    private javax.swing.JPanel volumenPanel;
    // End of variables declaration//GEN-END:variables

    private void setJLavelTemperatura(Double temperatura) {
        this.valorTemperaturaJLabel.setText(temperatura + " " + "ºC");
    }

    private void setJLavelAzucar(Double azucar) {
        this.valorAzucarJLabel.setText(azucar + " " + "%");
    }

    private void setJLavelVolumen(Double volumen) {
        this.valorVolumenJLabel.setText(volumen + " " + "L");
    }

    public void actualizar(Proceso proceso) {
        this.proceso = proceso;
        EstadoTanque estadoTanque = this.proceso.getEstadoTanque();
        setJLavelTemperatura(estadoTanque == null ? 0 : estadoTanque.getTemperatura());
        setJLavelAzucar(estadoTanque == null ? 0 : estadoTanque.getNivelAzucar());
        setJLavelVolumen(estadoTanque == null ? 0 : estadoTanque.getNivelContenido());

        getv.showTemperatura(proceso, temperaturaChartPanel);
        getv.showVolumen(proceso, volumenChartPanel);
        getv.showNivelAzucar(proceso, azucarChartPanel);
    }

    private void mostrarProporcion() {
        getv.showProporcion(proceso);
    }
    private ChartPanel temperaturaChartPanel;
    private ChartPanel volumenChartPanel;
    private ChartPanel azucarChartPanel;

    private JPanel getTemperaturaPanel() {
        temperaturaChartPanel = getv.showTemperatura(proceso);
        return temperaturaChartPanel;
    }

    private JPanel getVolumenPanel() {
        volumenChartPanel = getv.showVolumen(proceso);
        return volumenChartPanel;
    }

    private JPanel getAzucarPanel() {
        azucarChartPanel = getv.showNivelAzucar(proceso);
        return azucarChartPanel;
    }

    private void mostrarEvolucionTemperatura() {
        getv.mostrarEvolucionTemperatura(proceso);
    }

    private void mostrarEvolucionVolumen() {
        getv.mostrarEvolucionVolumen(proceso);
    }

    private void mostrarEvolucionAzucar() {
        getv.mostrarEvolucionNivelAzucar(proceso);
    }

    private void mostrarReglaTemperatura() {
        if (proceso.getReglaControl() != null) {
            ReglaControlTemperatura reglaControlTemperatura = proceso.getReglaControl().getReglaControlTemperatura();
            if (reglaControlTemperatura != null) {
                bindingTemperatura(reglaControlTemperatura);
                showDatosDialogTemperatura(true);
            } else {
                JOptionPane.showMessageDialog(this, "No hay una regla de control de temperatura asociada al proceso");
            }
        } else {
            JOptionPane.showMessageDialog(this, "No hay una regla de control de temperatura asociada al proceso");
        }
    }

    private void mostrarReglaNivel() {
        if (proceso.getReglaControl() != null) {
            ReglaControlNivel reglaControlNivel = proceso.getReglaControl().getReglaControlNivel();
            if (reglaControlNivel != null) {
                bindingNivel(reglaControlNivel);
                showDatosDialogNivel(true);
            } else {
                JOptionPane.showMessageDialog(this, "No hay una regla de control de nivel asociada al proceso");
            }
        } else {
            JOptionPane.showMessageDialog(this, "No hay una regla de control de nivel asociada al proceso");
        }
    }

    private void bindingTemperatura(ReglaControlTemperatura reglaControlTemperatura) {
        temperaturaMaximaText.setText(reglaControlTemperatura.getTemperaturaMaxima().toString());
        temperaturaMinimaText.setText(reglaControlTemperatura.getTemperaturaMinima().toString());
        temperaturaToleranciaText.setText(reglaControlTemperatura.getTemperaturaTolerancia().toString());
        codigoTemperaturaText.setText(reglaControlTemperatura.getCodigo());
        descripcionTemperaturaText.setText(reglaControlTemperatura.getDescripcion());
    }

    private void bindingNivel(ReglaControlNivel reglaControlNivel) {
        codigoNivelText.setText(reglaControlNivel.getCodigo());
        descripcionNivelText.setText(reglaControlNivel.getDescripcion());
        nivelMaximoLitrosText.setText(reglaControlNivel.getNivelMaximoCapacidad().toString());
        nivelMinimoAzucarText.setText(reglaControlNivel.getNivelMinimoAzucar().toString());
    }

    private void showDatosDialogTemperatura(boolean show) {
        if (show) {
            Utiles.centrarFormulario(datosDialogTemperatura);
        }
        datosDialogTemperatura.setVisible(show);
    }

    private void showDatosDialogNivel(boolean show) {
        if (show) {
            Utiles.centrarFormulario(datosDialogNivel);
        }
        datosDialogNivel.setVisible(show);
    }

    private void cerrarTemperatura() {
        resetTemperatura();
        showDatosDialogTemperatura(false);
    }

    private void cerrarNivel() {
        resetNivel();
        showDatosDialogNivel(false);
    }

    private void resetTemperatura() {
        temperaturaMaximaText.setText("");
        temperaturaMinimaText.setText("");
        temperaturaToleranciaText.setText("");
        codigoTemperaturaText.setText("");
        descripcionTemperaturaText.setText("");
    }

    private void resetNivel() {
        codigoNivelText.setText("");
        descripcionNivelText.setText("");
        nivelMaximoLitrosText.setText("");
        nivelMinimoAzucarText.setText("");
    }

    private void armarTitle() {
        String newTitle = "Controlando Tanque: " + proceso.getTanque().getCodigo() + "-" + proceso.getTanque().getDescripcion();
        lblDescripcion.setText(proceso.getDescripcion());
        String fechaInicio = proceso.getFechaInicioString() + " " + proceso.getHoraInicioString();
        String fechaFin = proceso.getFechaFinString() + " " + proceso.getHoraFinString();
        lblFechaInicio.setText(fechaInicio);
        lblFechaFin.setText(fechaFin);
        setTitle(newTitle);
    }
    private Timer timerAlarmaIcon = null;
    private Timer timerCleanMessage = null;

    public synchronized void mostrarAlarma() {

        if (timerAlarmaIcon != null) {
            alarmaLabel.setIcon(IconManager.getInstance().getAlarmaDesactivada());
            timerAlarmaIcon.stop();
            timerAlarmaIcon = null;
        }
        //Por 5 segundos muestro que hay una alarma
        timerAlarmaIcon = new Timer(5000, new ActionListener() {

            public void actionPerformed(ActionEvent e) {
                alarmaLabel.setIcon(IconManager.getInstance().getAlarmaDesactivada());
                if (timerAlarmaIcon != null && timerAlarmaIcon.isRunning()) {
                    timerAlarmaIcon.stop();
                }
                timerAlarmaIcon = null;
            }
        });
        timerAlarmaIcon.start();
        alarmaLabel.setIcon(IconManager.getInstance().getAlarmaActivada());
    }

    //Durante 10 segundos muestro el comando que se esta ejecutando
    public synchronized void setComandoMessage(String message) {
        comandoLabel.setText("Ejecutando Comando: " + message);

        timerCleanMessage = new Timer(12000, new ActionListener() {

            public void actionPerformed(ActionEvent e) {
                if (timerCleanMessage != null && timerCleanMessage.isRunning()) {
                    timerCleanMessage.stop();
                    comandoLabel.setText("Ejecutando Comando:");
                }
                timerCleanMessage = null;
            }
        });
        timerCleanMessage.start();
        timerCleanMessage.setRepeats(false);
    }
}
